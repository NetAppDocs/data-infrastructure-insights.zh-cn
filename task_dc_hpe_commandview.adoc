---
sidebar: sidebar 
permalink: task_dc_hpe_commandview.html 
keywords: data collector, HP Command View, HP, CVAE 
summary: 配置 HP Enterprise Command View 数据收集器。 
---
= HP Enterprise Command View 数据收集器
:hardbreaks:
:allow-uri-read: 


[role="lead"]
HP Enterprise Command View Advanced Edition 数据收集器支持通过 Command View Advanced Edition (CVAE) 服务器发现 XP 和 P9500 阵列。  Data Infrastructure Insights使用标准 Command View API 与 CVAE 通信以收集库存和性能数据。



== Terminology

Data Infrastructure Insights从 HP Enterprise Command View 数据收集器获取以下库存信息。对于Data Infrastructure Insights获取的每种资产类型，都会显示用于该资产的最常用术语。查看或排除此数据收集器的故障时，请记住以下术语：

[cols="2*"]
|===
| 供应商/型号术语 | Data Infrastructure Insights术语 


| PDEV | 磁盘 


| 期刊池 | 磁盘组 


| 存储阵列 | 存储 


| 端口控制器 | 存储节点 


| 阵列组、DP池 | 存储池 


| 逻辑单元，LDEV | 卷 
|===
注意：这些只是常见的术语映射，可能并不代表此数据收集器的所有情况。



== 库存要求

为了收集库存数据，您必须具备以下条件：

* CVAE 服务器的 IP 地址
* CVAE 软件的只读用户名和密码以及同行权限
* 端口要求：2001




== 性能要求

为了收集性能数据，必须满足以下要求：

* HDS USP、USP V 和 VSP 性能
+
** 性能监视器必须获得许可。
** 必须开启监控开关。
** 必须将导出工具（Export.exe）复制到Data Infrastructure InsightsAU 并提取到某个位置。在 CI Linux AU 上，确保“cisys”具有读取和执行权限。
** 导出工具版本必须与目标阵列的微码版本匹配。


* AMS 性能：
+
** 性能监视器必须获得许可。
** 存储导航器模块 2 (SNM2) CLI 实用程序安装在Data Infrastructure InsightsAU 上。


* 网络要求
+
** 导出工具基于 Java，并使用 RMI 与数组对话。这些工具可能不适合防火墙，因为它们可能在每次调用时动态协商源和目标 TCP 端口。此外，不同型号阵列的导出工具在网络上的行为可能有所不同 - 请咨询 HPE 了解您的型号的要求






== 配置

[cols="2*"]
|===
| 字段 | 描述 


| Command View 服务器 | Command View 服务器的 IP 地址或完全限定域名 


| 用户名 | Command View 服务器的用户名。 


| 密码 | Command View 服务器使用的密码。 


| 设备 - VSP G1000 (R800)、VSP (R700)、HUS VM (HM700) 和 USP 存储 | VSP G1000 (R800)、VSP (R700)、HUS VM (HM700) 和 USP 存储的设备列表。每个存储都需要：* 阵列的 IP：存储的 IP 地址* 用户名：存储的用户名* 密码：存储的密码* 包含导出实用程序 JAR 文件的文件夹 


| SNM2Devices - WMS/SMS/AMS 存储 | WMS/SMS/AMS 存储的设备列表。每个存储都需要：* 阵列的 IP：存储的 IP 地址* 存储导航器 CLI 路径：SNM2 CLI 路径* 帐户身份验证有效：选择以选择有效的帐户身份验证* 用户名：存储的用户名* 密码：存储的密码 


| 选择性能调优管理器 | 覆盖其他性能选项 


| 调优管理器主机 | 调优管理器的 IP 地址或完全限定域名 


| 调优管理器端口 | 用于调整管理器的端口 


| 调优经理用户名 | 调优管理器的用户名 


| 调优管理员密码 | 调优管理员密码 
|===
注意：在 HDS USP、USP V 和 VSP 中，任何磁盘都可以属于多个阵列组。



== 高级配置

|===


| 字段 | 描述 


| Command View 服务器端口 | Command View 服务器使用的端口 


| 已启用 HTTPS | 选择启用 HTTPS 


| 库存轮询间隔（分钟） | 库存调查之间的间隔。默认值为 40。 


| 选择“排除”或“包含”来指定列表 | 指定收集数据时是否包含或排除以下数组列表。 


| 排除或包含设备 | 要包含或排除的设备 ID 或阵列名称的逗号分隔列表 


| 查询主机管理器 | 选择查询主机管理器 


| 性能轮询间隔（秒） | 性能轮询之间的间隔。默认值为 300。 
|===


== 故障排除

如果您在使用此数据收集器时遇到问题，请尝试以下操作：



=== 清单

[cols="2*"]
|===
| 问题： | 尝试一下： 


| 错误：用户没有足够的权限 | 使用具有更多权限的其他用户帐户或增加数据收集器中配置的用户帐户的权限 


| 错误：存储列表为空。设备未配置或用户没有足够的权限 | * 使用 DeviceManager 检查设备是否已配置。  * 使用具有更多权限的其他用户帐户，或增加用户帐户的权限 


| 错误：HDS 存储阵列几天未刷新 | 调查为什么此阵列未在 HP CommandView AE 中刷新。 
|===


=== 性能

[cols="2*"]
|===
| 问题： | 尝试一下： 


| 错误：* 执行导出实用程序时出错 * 执行外部命令时出错 | * 确认导出实用程序已安装在Data Infrastructure Insights采集单元上 * 确认导出实用程序在数据收集器配置中的位置正确 * 确认 USP/R600 阵列的 IP 在数据收集器的配置中正确 * 确认用户名和密码在数据收集器的配置中正确 * 确认导出实用程序版本与存储阵列微代码版本兼容 * 从Data Infrastructure Insights采集单元打开 CMD 提示符并执行以下操作： - 将目录更改为配置的安装目录 - 尝试通过执行批处理文件 runWin.bat 与配置的存储阵列建立连接 


| 错误：目标 IP 的导出工具登录失败 | * 确认用户名/密码正确 * 创建一个主要为此 HDS 数据收集器的用户 ID * 确认没有配置其他数据收集器来获取此阵列 


| 错误：导出工具记录“无法获取监控的时间范围”。 | * 确认阵列上已启用性能监控。  * 尝试调用Data Infrastructure Insights之外的导出工具来确认问题出在Data Infrastructure Insights之外。 


| 错误：* 配置错误：导出实用程序不支持存储阵列 * 配置错误：存储导航器模块化 CLI 不支持存储阵列 | * 仅配置支持的存储阵列。  * 使用“过滤设备列表”排除不受支持的存储阵列。 


| 错误：* 执行外部命令时出错 * 配置错误：Inventory 未报告存储阵列 * 配置错误：导出文件夹不包含 jar 文件 | * 检查导出实用程序位置。  * 检查 Command View 服务器中是否配置了有问题的存储阵列 * 将性能轮询间隔设置为 60 秒的倍数。 


| 错误：* 存储导航器 CLI 错误 * 执行 auperform 命令时出错 * 执行外部命令时出错 | * 确认存储导航器模块化 CLI 已安装在Data Infrastructure Insights采集单元上 * 确认存储导航器模块化 CLI 在数据收集器配置中的位置正确 * 确认数据收集器的配置中 WMS/SMS/SMS 阵列的 IP 正确 * 确认存储导航器模块化 CLI 版本与数据收集器中配置的存储阵列的微代码版本兼容 * 从Data Infrastructure Insights采集单元打开 CMD 提示符并执行以下操作： - 将目录更改为配置的安装目录 - 尝试通过执行以下命令“auunitref.exe”与配置的存储阵列建立连接 


| 错误：配置错误：库存未报告存储阵列 | 检查相关存储阵列是否已在 Command View 服务器中配置 


| 错误：* 没有阵列在 Storage Navigator Modular 2 CLI 中注册 * 阵列未在 Storage Navigator Modular 2 CLI 中注册 * 配置错误：存储阵列未在 StorageNavigator Modular CLI 中注册 | * 打开命令提示符并将目录更改为配置的路径 * 运行命令“set=STONAVM_HOME=”。  * 运行命令“auunitref” * 确认命令输出包含带有 IP 的阵列详细信息 * 如果输出不包含阵列详细信息，则使用 Storage Navigator CLI 注册阵列： - 打开命令提示符并将目录更改为配置的路径 - 运行命令“set=STONAVM_HOME=”。 - 运行命令“auunitaddauto -ip ${ip}”。将${ip}替换为真实IP 
|===
更多信息可从link:concept_requesting_support.html["支持"]页面或在link:reference_data_collector_support_matrix.html["数据收集器支持矩阵"]。
