---
sidebar: sidebar 
permalink: task_webhook_example_slack.html 
keywords: webhook, notification, Slack, integration 
summary: 创建 Webhook 来针对 Slack 的性能或库存阈值发出警报 
---
= Slack 的 Webhook 示例
:hardbreaks:
:allow-uri-read: 


[role="lead"]
Webhook 允许用户使用自定义的 webhook 通道向各种应用程序发送警报通知。本页提供了为 Slack 设置 webhook 的示例。


NOTE: 本页引用第三方说明，可能会有所变更。请参阅link:https://slack.com/help/articles/115005265063-Incoming-webhooks-for-Slack["Slack 文档"]以获取最新信息。



== Slack 示例：

* 前往 https://api.slack.com/apps[]并创建一个新的应用程序。给它一个有意义的名字并选择 Slack Workspace。
+
image:Webhooks_Slack_Create_Webhook.png["创建 Slack Webhook"]

* 转到传入 Webhook，单击_激活传入 Webhook_，请求_添加新 Webhook_，然后选择要发布的频道。
* 复制 Webhook URL。您需要将其粘贴到Data Infrastructure Insightswebhook 配置中。




== 创建Data Infrastructure InsightsWebhook：

. 在Data Infrastructure Insights中，导航到 *管理 > 通知* 并选择 *Webhooks* 选项卡。单击 *+Webhook* 创建一个新 webhook。
. 为 webhook 赋予一个有意义的名称，例如“Slack Webhook”。
. 在“模板类型”下拉菜单中，选择“Slack”。
. 将上面的 URL 粘贴到 _URL_ 字段中。


image:Webhooks-Slack_example.png["Slack webhook 模板"]



== 通过 Webhook 发送通知

要通过 webhook 通知事件，请在Data Infrastructure Insights中导航至 *Alerts > Monitors*，然后单击 *+Monitor* 以创建新的link:task_create_monitor.html["监视器"]。

* 选择一个指标并定义监视器的条件。
* 在“设置团队通知”下，选择“Webhook”传送方式。
* 为所需事件（严重、警告、已解决）选择“Slack”webhook
+
image:Webhooks_Slack_Notifications.png["Webhook 通知"]





==== 更多信息：

* 要修改消息格式和布局，请参阅 https://api.slack.com/messaging/composing[]
* 错误处理： https://api.slack.com/messaging/webhooks#handling_errors[]

