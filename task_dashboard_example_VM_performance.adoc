---
sidebar: sidebar 
permalink: task_dashboard_example_VM_performance.html 
summary: 突出显示虚拟机性能的仪表板示例。 
keywords: dashboard, widget, custom, example, virtual machine, vm, performance 
---
= 仪表板示例：虚拟机性能
:hardbreaks:
:allow-uri-read: 


[role="lead"]
当今的 IT 运营面临着许多挑战。管理员需要用更少的资源做更多的事情，并且必须全面了解您的动态数据中心。在此示例中，我们将向您展示如何创建一个带有小部件的仪表板，该仪表板可让您深入了解租户上的虚拟机 (VM) 性能的操作。通过遵循此示例并创建小部件来满足您自己的特定需求，您可以执行诸如可视化后端存储性能与前端虚拟机性能的比较，或查看 VM 延迟与 I/O 需求等操作。

.关于此任务
在这里，我们将创建一个虚拟机性能仪表板，其中包含以下内容：

* 列出虚拟机名称和性能数据的表格
* 虚拟机延迟与存储延迟的比较图表
* 显示虚拟机的读取、写入和总 IOPS 的图表
* 显示虚拟机最大吞吐量的图表


这只是一个基本的例子。您可以自定义仪表板来突出显示和比较您选择的任何性能数据，以便针对您自己的最佳操作实践。

.步骤
. 以具有管理权限的用户身份登录 Insight。
. 从*仪表板*菜单中，选择*[+新仪表板]*。
+
打开“新仪表板”页面。

. 在页面顶部，输入仪表板的唯一名称，例如“按应用程序划分的虚拟机性能”。
. 单击“*保存*”以使用新名称保存仪表板。
. 让我们开始添加我们的小部件。如有必要，单击“*编辑*”图标以启用编辑模式。
. 单击“*添加小部件*”图标并选择“*表格*”以将新的表格小部件添加到仪表板。
+
将打开“编辑小部件”对话框。显示的默认数据适用于您的租户上的所有存储。



image:VMDashboard-TableWidget1.png["编辑表格小部件对话框"]

. 我们可以自定义这个小部件。在顶部的名称字段中，删除“Widget 1”并输入“虚拟机性能表”。
. 单击资产类型下拉菜单并将_存储_更改为_虚拟机_。
+
表格数据发生变化以显示租户上的所有虚拟机。

. 让我们在表中添加几列。单击右侧的齿轮图标，然后选择_Hypervisor 名称_、_IOPS - Total_ 和 _Latency - Total_。您还可以尝试在搜索中输入名称以快速显示所需的字段。
+
这些列现在显示在表中。您可以按照其中任意一列对表格进行排序。请注意，列按照它们添加到小部件的顺序显示。

. 在本练习中，我们将排除未主动使用的虚拟机，因此让我们过滤掉总 IOPS 少于 10 的任何虚拟机。单击“Filter by”旁边的“[+]”按钮，然后选择“IOPS - Total”。单击“任意”并在“来自”字段中输入“10”。将“*to*”字段留空。单击过滤器字段外面或按 Enter 键来设置过滤器。
+
该表现在仅显示总 IOPS 为 10 或更多的虚拟机。

. 我们可以通过对结果进行分组来进一步折叠表格。单击“Group by”旁边的“*[+]*”按钮，然后选择要分组的字段，例如“_Application_”或“_Hypervisor name_”。自动应用分组。
+
表格行现在根据您的设置进行分组。您可以根据需要展开或折叠组。分组行显示每列的汇总数据。某些列允许您选择该列的汇总方法。



image:VMDashboard-TableWidgetGroup.png["表格小部件分组示例"]

. 当您对表格小部件进行自定义以满足您的满意要求后，请单击“[保存]”按钮。
+
表格小部件已保存到仪表板。



您可以通过拖动右下角来调整仪表板上小部件的大小。使小部件更宽以清晰地显示所有列。单击“*保存*”以保存当前仪表板。

接下来我们将添加一些图表来显示我们的 VM 性能。让我们创建一个折线图来比较 VM 延迟和 VMDK 延迟。

. 如有必要，请单击仪表板上的“*编辑*”图标以启用编辑模式。
. 单击*[添加小部件]*图标并选择_折线图_以将新的折线图小部件添加到仪表板。
. “编辑小部件”对话框打开。将此小部件命名为“VM / VMDK Max Latency”
. 选择*虚拟机*并选择_延迟 - 最大_。设置您想要的任何过滤器，或将“过滤依据”留空。对于*汇总*，选择_全部_汇总。将此数据显示为_折线图_，并将_Y 轴_保留为_主要_。
. 单击*[+查询]*按钮添加第二条数据行。对于此行，选择_VMDK_和_Latency - Max_。设置您想要的任何过滤器，或将“过滤依据”留空。对于*汇总*，选择_全部_汇总。将此数据显示为_折线图_，并将_Y 轴_保留为_主要_。
. 单击“[保存]”将此小部件添加到仪表板。


image:VMDashboard-LineChartVMLatency.png["显示延迟数据的折线图"]

接下来，我们将添加一个图表，在单个图表中显示 VM 读取、写入和总 IOPS。

. 单击*[添加小部件]*图标并选择_区域图_以将新的区域图小部件添加到仪表板。
. 将打开“编辑小部件”对话框。将此小部件命名为“VM IOPS”
. 选择*虚拟机*并选择_IOPS - Total_。设置您想要的任何过滤器，或将*过滤依据*留空。对于*汇总*，选择_全部_汇总。将此数据显示为_面积图_，并将_Y 轴_保留为_主要_。
. 单击*[+查询]*按钮添加第二条数据行。对于此行，选择*虚拟机*并选择_IOPS - 读取_。
. 单击*[+查询]*按钮添加第三条数据行。对于此行，选择*虚拟机*并选择_IOPS - 写入_。
. 单击“显示图例”可在仪表板上显示此小部件的图例。


image:VMDashboard-AreaChartVMIOPS.png["显示虚拟机 IOPS 的区域图"]

. 单击“[保存]”将此小部件添加到仪表板。


接下来，我们将添加一个图表，显示与 VM 关联的每个应用程序的 VM 吞吐量。为此，我们将使用 Roll Up 功能。

. 单击*[添加小部件]*图标并选择_折线图_以将新的折线图小部件添加到仪表板。
. 将打开“编辑小部件”对话框。将此小部件命名为“按应用程序划分的虚拟机吞吐量”
. 选择虚拟机并选择吞吐量 - 总计。设置您想要的任何过滤器，或将“过滤依据”留空。对于汇总，选择“最大”并通过“应用程序”或“名称”进行选择。显示排名前 10 的应用程序。将此数据显示为折线图，并将 Y 轴保留为主要轴。
. 单击“[保存]”将此小部件添加到仪表板。


您可以通过按住小部件顶部任意位置的鼠标按钮并将其拖动到新位置来移动仪表板上的小部件。

您可以通过拖动右下角来调整小部件的大小。

进行更改后，请务必*[保存]*仪表板。

您的最终 VM 性能仪表板将如下所示：

image:VMDashExample1.png["VM 仪表板完整示例，显示所有小部件"]
