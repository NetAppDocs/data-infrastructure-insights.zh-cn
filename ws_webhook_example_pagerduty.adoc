---
sidebar: sidebar 
permalink: ws_webhook_example_pagerduty.html 
keywords: webhook, notification, PagerDuty, integration 
summary: 为 PagerDuty 创建工作负载安全 webhook 以发出安全警报 
---
= PagerDuty 的工作负载安全 Webhook 示例
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
Webhook 允许用户使用自定义的 webhook 通道向各种应用程序发送警报通知。本页面提供了为 PagerDuty 设置 webhook 的示例。


NOTE: 本页引用第三方说明，可能会有变更。请参阅link:https://support.pagerduty.com/docs/services-and-integrations["PagerDuty 文档"]以获取最新信息。



== PagerDuty 设置：

. 在 PagerDuty 中，导航到 *服务 > 服务目录* 并单击 *+新服务* 按钮。
. 输入_名称_并选择_直接使用我们的 API_。选择“添加服务”。
+
image:Webhooks_PagerDutyScreen1.png["Pagerduty 屏幕"]

. 选择“Integrations”选项卡来查看“Integration Key”。当您创建下面的工作负载安全 webhook 时，您将需要此密钥。


. 前往*事件*或*服务*查看警报。
+
image:ws_pagerduty_incidents_list.png["pagerduty 事件列表示例，宽度=700"]





== 创建工作负载安全 PagerDuty Webhook：

* 导航到“管理”>“通知”，然后选择“_Workload Security Webhooks_”选项卡。选择“+ Webhook”来创建一个新的 webhook。
* 为 webhook 赋予一个有意义的名称。
* 在“模板类型”下拉菜单中，选择“PagerDuty 触发器”。
* 创建一个名为_routingKey_的自定义参数密钥，并将其值设置为上面创建的PagerDuty_Integration Key_。


image:Webhooks_Custom_Secret_Routing_Key.png["设置路由键，width=300"]

image:ws_webhook_pagerduty_example.png["工作负载安全 pagerduty webhook 示例，宽度=400"]



== 通过 Webhook 发送通知

* 要通过 webhook 通知事件，请导航至_工作负载安全 > 策略_。选择“_+攻击策略_”或“_+警告策略_”。
* 输入一个有意义的策略名称。
* 选择所需的攻击类型、应附加策略的设备以及所需的操作。
* 在“Webhooks Notifications”下拉菜单下，选择所需的 PagerDuty webhook。保存策略。


注意：还可以通过编辑将 Webhook 附加到现有策略。

image:ws_add_attack_policy.png["添加攻击策略对话框显示 webhook，宽度=400"]
