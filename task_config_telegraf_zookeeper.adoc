---
sidebar: sidebar 
permalink: task_config_telegraf_zookeeper.html 
keywords: telegraf, installation, install, apache, zookeeper 
summary: Apache Zookeeper 数据收集器配置 
---
= Zookeeper 数据收集器
:hardbreaks:
:allow-uri-read: 


[role="lead"]
Data Infrastructure Insights使用此数据收集器从 Apache Zookeeper 收集指标。



== 安装

. 从*管理 > 数据收集器*中，单击*+数据收集器*。选择 Apache Zookeeper。
+
选择安装 Telegraf 代理的操作系统或平台。

. 如果您尚未安装用于收集的代理，或者您希望为不同的操作系统或平台安装代理，请单击“显示说明”以展开link:task_config_telegraf_agent.html["代理安装"]指示。
. 选择用于此数据收集器的代理访问密钥。您可以通过单击 *+ 代理访问密钥* 按钮添加新的代理访问密钥。最佳实践：仅当您想要对数据收集器进行分组（例如按操作系统/平台）时才使用不同的代理访问密钥。
. 按照配置步骤配置数据收集器。说明根据您用于收集数据的操作系统或平台的类型而有所不同。


image:ZookeeperDCConfigLinux.png["Zookeeper 配置"]



== 设置

至少，您需要允许 Zookeeper 四个字母的服务器命令 _mntr_、_srvr_ 和 _stat_。您可以使用以下格式启用这些命令：_zoo.cfg_ 文件中的 _4lw.commands.whitelist=mntr, srvr, stat_。您的配置中可能还需要其他四个字母的命令。查看link:https://zookeeper.apache.org/["Zookeeper"]文档以获取更多信息。



== 物体和计数器

收集以下对象及其计数器：

[cols="<.<,<.<,<.<,<.<"]
|===
| 目的： | 标识符： | 属性： | 数据点： 


| ZooKeeper | 命名空间服务器 | 状态 节点IP 节点名称 端口 | 近似数据大小 平均延迟 临时节点数 最大文件描述符数 最大延迟 最小延迟 活动连接数 打开文件描述符数 未完成请求 监视数 Znode 数 
|===


== 故障排除

更多信息可从link:concept_requesting_support.html["支持"]页。
