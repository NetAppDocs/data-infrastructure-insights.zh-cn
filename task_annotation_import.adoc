---
sidebar: sidebar 
permalink: task_annotation_import.html 
keywords: annotations, import, api 
summary: 您可以使用Data Infrastructure InsightsAPI 导入注释和应用程序。 
---
= 导入注释
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
Data Infrastructure Insights包括一个 API，用于从 CSV 文件导入注释或应用程序，并将它们分配给您指定的对象。


NOTE: Data Infrastructure InsightsAPI 在 *Data Infrastructure Insights高级版* 中可用。



== 输入

*管理 > API 访问* 链接包含link:API_Overview.html["文档"]用于*Assets/Import* API。本文档包含有关 .CSV 文件格式的信息。

image:api_assets_import.png["导入 API"]



== .CSV 文件格式

CSV文件的一般格式如下。该文件的第一行定义导入字段并指定字段的顺序。接下来是每个注释或应用程序的单独行。您不需要定义每个字段。但是，后续注释行必须遵循与定义行相同的顺序。

 [Object Type] , [Object Name or ID] , Annotation Type [, Annotation Type,  ...] [, Application] [, Tenant] [, Line_Of_Business] [, Business_Unit] [, Project]
有关 .CSV 文件的示例，请参阅 API 文档。

您可以从 API swagger 内部的 .CSV 文件导入和分配注释。只需选择要使用的文件并单击“执行”按钮：

image:api_assets_import_assign.png["导入和分配"]



== 导入行为

在导入操作期间，将根据导入的对象和对象类型添加、合并或替换数据。导入时，请记住以下行为。

* 如果目标系统中不存在同名的注释或应用程序，则添加一个。
* 如果注释类型是列表，并且目标系统中存在同名注释，则合并注释。
* 如果注释类型不是列表，并且目标系统中存在同名注释，则替换注释。
+
注意：如果目标系统中存在同名但类型不同的注释，则导入失败。如果对象依赖于失败的注释，则这些对象可能会显示不正确或不需要的信息。导入操作完成后，必须检查所有注释依赖项。

* 如果注释值为空，则该注释将从对象中删除。继承的注释不受影响。
* 日期类型注释值必须以毫秒为单位的 unix 时间传入。
* 当注释卷或内部卷时，对象名称是使用“\->”分隔符的存储名称和卷名称的组合。例如：_<存储名称>\-><卷名称>_
* 如果对象名称包含逗号，则整个名称必须用双引号引起来。例如：_“NetApp1,NetApp2”\->023F_
* 当将注释附加到存储、交换机和端口时，“应用程序”列将被忽略。
* 租户、业务线、业务单位和/或项目构成一个业务实体。与所有业务实体一样，任何值都可以为空。


可以注释以下对象类型。

|===


| 对象类型 | 名称或密钥 


| 主机 | id\-><id> 或 <名称> 或 <IP> 


| VM | id\-><id> 或 <Name> 


| 存储池 | id\-><id> 或 <存储名称>\-><存储池名称> 


| 内部容积 | id\-><id> 或 <存储名称>\-><内部卷名称> 


| 卷 | id\-><id> 或 <存储名称>\-><卷名称> 


| 存储 | id\-><id> 或 <名称> 或 <IP> 


| 交换机 | id\-><id> 或 <名称> 或 <IP> 


| 端口 | id\-><id> 或 <WWN> 


| qtree | id\-><id> 或 <存储名称>\-><内部卷名称>\-><Qtree 名称> 


| 共享 | id\-><id> 或 <存储名称>\-><内部卷名称>\-><共享名称>\-><协议>[\-><Qtree 名称（如果是默认 Qtree，则为可选）>] 
|===